
* { margin:0; padding:0; box-sizing:border-box; }


.mw-game-container{
  position:relative;
  width:100vw; height:100dvh;
  overflow:hidden;
  background:linear-gradient(135deg,#2c3e50,#34495e);
}


.mw-instruction{
  position:absolute; top:70px; left:50%; transform:translateX(-50%);
  background:rgba(255,255,255,.92); padding:10px 16px; border-radius:12px;
  color:#333; font-weight:800; text-align:center; max-width:760px; z-index:2;
}
.mw-progress{
  position:absolute; top:118px; right:32px;
  background:rgba(255,255,255,.92); padding:10px 12px; border-radius:12px;
  color:#333; font-weight:800; z-index:2;
}
.mw-bar{ width:220px; height:18px; background:#ecf0f1; border-radius:10px; overflow:hidden; margin-top:6px; }
.mw-bar-fill{ height:100%; width:0; background:linear-gradient(90deg,#e74c3c,#f39c12,#27ae60); border-radius:10px; transition:width .35s; }


.mw-stage{
  position:absolute; inset:170px 0 86px 0; display:grid; place-items:center;
}


.mw-components{
  position:absolute; left:24px; top:50%; transform:translateY(-50%);
  display:flex; flex-direction:column; gap:14px; align-items:center;
}
.mw-components-title{ color:#fff; font-weight:800; text-shadow:0 1px 2px rgba(0,0,0,.5); }
.component{ min-width:140px; padding:12px; border-radius:10px; cursor:grab; user-select:none; color:#fff; font-weight:800; text-align:center; box-shadow:0 4px 10px rgba(0,0,0,.35); }
.component:active{ cursor:grabbing; transform:scale(1.06); }
.component.dragging{ position:absolute; z-index:1000; pointer-events:none; transform:scale(1.06); }
.magnetron{ background:linear-gradient(45deg,#e74c3c,#c0392b); }
.power-source{ background:linear-gradient(45deg,#f39c12,#e67e22); }
.metal-cavity{ background:linear-gradient(45deg,#7f8c8d,#95a5a6); }
.door-component{ background:linear-gradient(45deg,#3498db,#2980b9); }
.food-plate{ background:linear-gradient(45deg,#27ae60,#229954); }


.mw-frame{
  position:relative; width:260px; height:200px;
  background:linear-gradient(145deg,#ecf0f1,#bdc3c7);
  border-radius:14px; border:3px solid #95a5a6;
  box-shadow:0 8px 24px rgba(0,0,0,.28);
}
.mw-interior{
  position:absolute; top:24px; left:24px; width:150px; height:130px;
  background:#2c3e50; border-radius:8px; border:2px dashed rgba(255,255,255,.35);
  display:flex; align-items:center; justify-content:center; color:#fff8; font-weight:700; transition:.3s;
}
.mw-interior.has-cavity{ background:linear-gradient(145deg,#34495e,#2c3e50); border:2px solid #7f8c8d; color:transparent; }

.mw-panel{ position:absolute; top:24px; right:12px; width:56px; height:130px; background:linear-gradient(145deg,#34495e,#2c3e50); border-radius:8px; display:flex; flex-direction:column; align-items:center; justify-content:space-around; padding:6px; }
.mw-display{ width:44px; height:22px; background:#000; border:1px solid #555; border-radius:4px; color:#0f0; font:700 10px/22px "Courier New",monospace; text-align:center; }
.mw-knob{ width:38px; height:14px; background:linear-gradient(145deg,#95a5a6,#7f8c8d); border:1px solid #555; border-radius:4px; }


.drop-zone{ position:absolute; border:3px dashed rgba(255,255,255,.6); border-radius:8px; display:flex; align-items:center; justify-content:center; color:#fff9; font-weight:800; font-size:11px; transition:.2s; }
.drop-zone.round{ border-radius:999px; }
.drop-zone.center{ transform:translate(-50%,-50%); }
.drop-zone.drag-over{ border-color:#f39c12; background:rgba(243,156,18,.18); }
.drop-zone.filled{ border:2px solid #27ae60; background:rgba(39,174,96,.1); color:transparent; }


.mw-door{ position:absolute; top:24px; left:24px; width:150px; height:130px; background:linear-gradient(145deg,rgba(255,255,255,.12),rgba(255,255,255,.06)); border:2px solid #7f8c8d; border-radius:8px; transform-origin:left center; transition:transform .5s; backdrop-filter:blur(2px); z-index:10; }
.mw-door.open{ transform:rotateY(-120deg); }
.mw-handle{ position:absolute; right:10px; top:50%; transform:translateY(-50%); width:15px; height:60px; background:linear-gradient(145deg,#7f8c8d,#95a5a6); border-radius:8px; }
.mw-window{ position:absolute; top:20px; left:20px; right:40px; bottom:20px; background:rgba(0,0,0,.35); border-radius:4px; border:1px solid #555; overflow:hidden; }
.mw-mesh{ position:absolute; inset:0; background-image:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(255,255,255,.1) 3px,rgba(255,255,255,.1) 4px),repeating-linear-gradient(90deg,transparent,transparent 3px,rgba(255,255,255,.1) 3px,rgba(255,255,255,.1) 4px); }


.mw-waves{ position:absolute; inset:0; pointer-events:none; opacity:0; transition:.4s; }
.mw-waves.visible{ opacity:1; }
.wave{ position:absolute; width:6px; height:6px; border-radius:999px; background:#e74c3c; animation:waveMotion 2s linear infinite; }
@keyframes waveMotion{ 0%{opacity:0; transform:scale(.5)} 50%{opacity:1; transform:scale(1)} 100%{opacity:0; transform:scale(1.5)} }
.food-heating{ position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:72px; height:60px; border-radius:12px; display:flex; align-items:center; justify-content:center; font-weight:800; color:#fff; background:linear-gradient(45deg,#8e44ad,#9b59b6); opacity:0; transition:.4s; }
.food-heating.visible{ opacity:1; }
.food-heating.hot{ background:linear-gradient(45deg,#e74c3c,#f39c12); box-shadow:0 0 20px rgba(231,76,60,.6); animation:foodHeat 1s ease-in-out infinite alternate; }
@keyframes foodHeat{ from{transform:translate(-50%,-50%) scale(1)} to{transform:translate(-50%,-50%) scale(1.05)} }
.steam{ position:absolute; width:4px; height:20px; background:linear-gradient(180deg,rgba(255,255,255,.9),transparent); border-radius:2px; animation:steamRise 2s ease-in-out infinite; }
@keyframes steamRise{ 0%{opacity:0; transform:translateY(0) scale(.5)} 50%{opacity:1; transform:translateY(-20px) scale(1)} 100%{opacity:0; transform:translateY(-40px) scale(1.4)} }


.mw-controls{
  position:absolute; left:50%; bottom:48px; transform:translateX(-50%);
  display:flex; gap:12px; background:rgba(255,255,255,.1); padding:12px 18px; border-radius:16px; backdrop-filter:blur(10px); z-index:5;
}
.btn{ padding:12px 16px; border:none; border-radius:8px; font-weight:800; color:#fff; cursor:pointer; transition:.2s; }
.btn:hover{ transform:translateY(-2px); box-shadow:0 4px 12px rgba(0,0,0,.25); }
.btn-power{ background:#27ae60; }
.btn-reset{ background:#e74c3c; }
.btn-manual{ background:#f39c12; }
.btn-next{ background:#3498db; }


.feedback{
  position:fixed; left:50%; top:180px; transform:translateX(-50%);
  display:none; background:#fff; color:#333; padding:16px 20px; border-radius:12px;
  box-shadow:0 12px 32px rgba(0,0,0,.35); font-weight:700; z-index:60; max-width:80vw; text-align:center;
}

@media (max-width:900px){
  .mw-frame{ transform:scale(.92); }
  .mw-components{ left:10px; transform:translateY(-50%) scale(.94); }
  .mw-controls{ bottom:8px; }
}
